"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function default_1(jobResult, jobData, possibleResults) {
    var testsFailed = jobResult === possibleResults.done ? jobData.total - jobData.passed : 0;
    var jobPassed = jobResult === possibleResults.done && testsFailed === 0;
    var errorReason = '';
    if (testsFailed > 0)
        errorReason = `${testsFailed} tests failed`;
    else if (jobResult === possibleResults.errored)
        errorReason = jobData.message;
    else if (jobResult === possibleResults.aborted)
        errorReason = 'Session aborted';
    return {
        status: jobPassed ? 'passed' : 'failed',
        reason: errorReason
    };
}
exports.default = default_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLWJyb3dzZXJzdGFjay1zdGF0dXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvdXRpbHMvY3JlYXRlLWJyb3dzZXJzdGFjay1zdGF0dXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtQkFBeUIsU0FBUyxFQUFFLE9BQU8sRUFBRSxlQUFlO0lBQ3hELElBQUksV0FBVyxHQUFHLFNBQVMsS0FBSyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxRixJQUFJLFNBQVMsR0FBSyxTQUFTLEtBQUssZUFBZSxDQUFDLElBQUksSUFBSSxXQUFXLEtBQUssQ0FBQyxDQUFDO0lBQzFFLElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQztJQUVyQixJQUFJLFdBQVcsR0FBRyxDQUFDO1FBQ2YsV0FBVyxHQUFHLEdBQUcsV0FBVyxlQUFlLENBQUM7U0FDM0MsSUFBSSxTQUFTLEtBQUssZUFBZSxDQUFDLE9BQU87UUFDMUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7U0FDN0IsSUFBSSxTQUFTLEtBQUssZUFBZSxDQUFDLE9BQU87UUFDMUMsV0FBVyxHQUFHLGlCQUFpQixDQUFDO0lBRXBDLE9BQU87UUFDSCxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVE7UUFDdkMsTUFBTSxFQUFFLFdBQVc7S0FDdEIsQ0FBQztBQUVOLENBQUM7QUFqQkQsNEJBaUJDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGpvYlJlc3VsdCwgam9iRGF0YSwgcG9zc2libGVSZXN1bHRzKSB7XHJcbiAgICB2YXIgdGVzdHNGYWlsZWQgPSBqb2JSZXN1bHQgPT09IHBvc3NpYmxlUmVzdWx0cy5kb25lID8gam9iRGF0YS50b3RhbCAtIGpvYkRhdGEucGFzc2VkIDogMDtcclxuICAgIHZhciBqb2JQYXNzZWQgICA9IGpvYlJlc3VsdCA9PT0gcG9zc2libGVSZXN1bHRzLmRvbmUgJiYgdGVzdHNGYWlsZWQgPT09IDA7XHJcbiAgICB2YXIgZXJyb3JSZWFzb24gPSAnJztcclxuXHJcbiAgICBpZiAodGVzdHNGYWlsZWQgPiAwKVxyXG4gICAgICAgIGVycm9yUmVhc29uID0gYCR7dGVzdHNGYWlsZWR9IHRlc3RzIGZhaWxlZGA7XHJcbiAgICBlbHNlIGlmIChqb2JSZXN1bHQgPT09IHBvc3NpYmxlUmVzdWx0cy5lcnJvcmVkKVxyXG4gICAgICAgIGVycm9yUmVhc29uID0gam9iRGF0YS5tZXNzYWdlO1xyXG4gICAgZWxzZSBpZiAoam9iUmVzdWx0ID09PSBwb3NzaWJsZVJlc3VsdHMuYWJvcnRlZClcclxuICAgICAgICBlcnJvclJlYXNvbiA9ICdTZXNzaW9uIGFib3J0ZWQnO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc3RhdHVzOiBqb2JQYXNzZWQgPyAncGFzc2VkJyA6ICdmYWlsZWQnLFxyXG4gICAgICAgIHJlYXNvbjogZXJyb3JSZWFzb25cclxuICAgIH07XHJcblxyXG59XHJcbiJdfQ==